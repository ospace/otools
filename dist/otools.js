/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["o"] = factory();
	else
		root["o"] = factory();
})(self, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/assert.js":
/*!***********************!*\
  !*** ./src/assert.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"assert\": () => (/* binding */ assert),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction assert(condition, message) {\n  if (!condition) {\n    throw Error(message || \"assertion failed\");\n  }\n}\n\nassert[\"function\"] = function (obj, name) {\n  if (!(\"function\" === typeof obj)) {\n    throw TypeError(\"\".concat(name || \"it\", \" must be a function\"));\n  }\n};\n\nassert.string = function (obj, name) {\n  if (!(\"string\" === typeof obj)) {\n    throw TypeError(\"\".concat(name || \"it\", \" must be a string\"));\n  }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (assert);\n\n//# sourceURL=webpack://o/./src/assert.js?");

/***/ }),

/***/ "./src/binder.js":
/*!***********************!*\
  !*** ./src/binder.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bindOf\": () => (/* binding */ bindOf)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.js\");\n/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom */ \"./src/dom.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\nvar w = window;\nvar SHORT_WORDS = {\n  \"@\": \"o-on:\",\n  getWord: function getWord(name) {\n    var keyword = SHORT_WORDS[name.charAt(0)];\n    return keyword ? keyword + name.substr(1) : name;\n  }\n};\n\nfunction OBinder() {\n  _utils__WEBPACK_IMPORTED_MODULE_0__.EventBus.apply(this, arguments);\n  this.objKeys = [];\n  this.metaObj = {\n    el: null,\n    on: this.$on.bind(this),\n    off: this.$off.bind(this),\n    fire: this.fire.bind(this)\n  };\n}\n\n(0,_utils__WEBPACK_IMPORTED_MODULE_0__.extend)(OBinder, _utils__WEBPACK_IMPORTED_MODULE_0__.EventBus, {\n  bind: function bind(obj, elem) {\n    var _this = this;\n\n    (0,_utils__WEBPACK_IMPORTED_MODULE_0__.iterateObj)(obj, function (target, key, prefix) {\n      return _this.objKeys.push(\"\".concat(prefix, \".\").concat(key, \".\"));\n    });\n    this.objKeys.sort(function (l, r) {\n      return l < r ? 1 : -1;\n    });\n\n    var _loop = function _loop(k) {\n      var key = \"$\" + k;\n      if (obj.hasOwnProperty(key)) return \"continue\"; // console.warn(`object has property already: ${key}`);\n\n      var value = _this.metaObj[k];\n      value = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isFunction)(value) ? {\n        value: value,\n        writable: false\n      } : {\n        get: function get() {\n          return _this.metaObj[k];\n        }\n      };\n      (0,_utils__WEBPACK_IMPORTED_MODULE_0__.defineHiddenProperty)(obj, key, value);\n    };\n\n    for (var k in this.metaObj) {\n      var _ret = _loop(k);\n\n      if (_ret === \"continue\") continue;\n    }\n\n    var fire = function fire() {};\n\n    obj = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.proxyObj)(obj, function (key, val) {\n      // const { type } = val;\n      var key_ = _this.findEvent(key);\n\n      fire.call(_this, key_, val, 2);\n    });\n    fire = this.fire;\n    this.render(obj, elem);\n    return obj;\n  },\n  render: function render(obj, elem) {\n    var _this2 = this;\n\n    var errs = [];\n    (0,_dom__WEBPACK_IMPORTED_MODULE_1__.iterateNode)(elem, function (node) {\n      if (1 === node.nodeType) {\n        _this2.bindElementNode(node, obj, errs);\n      } else if (3 === node.nodeType) {\n        _this2.bindTextNode(obj, node, errs);\n      }\n    });\n    errs.forEach(function (e) {\n      return console.warn(\"ERROR:\", e);\n    });\n  },\n  bindElementNode: function bindElementNode(node, obj, errs) {\n    var queue = [];\n\n    var _iterator = _createForOfIteratorHelper(node.attributes),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var attr = _step.value;\n        var name = SHORT_WORDS.getWord(attr.name);\n\n        if (name.startsWith(\"o-\")) {\n          node.removeAttribute(name);\n\n          var _name$split = name.split(\":\"),\n              _name$split2 = _slicedToArray(_name$split, 2),\n              cmd = _name$split2[0],\n              option = _name$split2[1];\n\n          queue.push([cmd, {\n            el: node,\n            option: option,\n            value: attr.value,\n            queue: queue,\n            binder: this\n          }]);\n        } else {\n          this.bindNodeValue(node, name, obj, attr.value, errs);\n        }\n\n        while (queue.length) {\n          var _queue$shift = queue.shift(),\n              _queue$shift2 = _slicedToArray(_queue$shift, 2),\n              cmdId = _queue$shift2[0],\n              info = _queue$shift2[1];\n\n          if (cmdId) {\n            var _cmd = directive.get(cmdId);\n\n            if (!_cmd) {\n              return console.warn(\"not supported directive: \".concat(cmdId));\n            }\n\n            _cmd.binded(node, obj, info);\n          } else {\n            this.bindNodeValue(node, info.option, obj, info.value, errs);\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  },\n  bindNodeValue: function bindNodeValue(el, attName, obj, value, errs) {\n    var self = this;\n    this.doContentReplacer(value, function (get) {\n      return function () {\n        self.metaObj.el = el;\n        el[attName] = get.call(obj);\n        self.metaObj.el = null;\n      };\n    }, errs);\n  },\n  bindTextNode: function bindTextNode(obj, node, errs) {\n    var self = this;\n    node.textContent && this.doContentReplacer(node.textContent, function (get) {\n      return function () {\n        self.metaObj.el = node;\n        node.textContent = get.call(obj);\n        self.metaObj.el = null;\n      };\n    }, errs);\n  },\n  doContentReplacer: function doContentReplacer(content, factorySetter, errs) {\n    var _this4 = this;\n\n    var preRe = /{{([\\w\\W]+?)}}/g;\n    var mappings = [];\n    var id = 0;\n    var normalizedText = content.replace(preRe, function (m, k) {\n      mappings.push(parseContent(k));\n      return \"${v[\" + id++ + \"]}\";\n    });\n    if (!mappings.length) return;\n    var fnTemplateText = createTemplate([\"v\"], normalizedText);\n    var action = factorySetter(function () {\n      var _this3 = this;\n\n      try {\n        return fnTemplateText(mappings.map(function (it) {\n          return it.get.call(_this3);\n        }));\n      } catch (e) {\n        errs && errs.push([content, e]);\n        return \"\";\n      }\n    });\n    action();\n    mappings.forEach(function (mapping) {\n      return mapping.keys.forEach(function (it) {\n        return _this4.$on(\".\" + it, function () {\n          return action();\n        });\n      });\n    });\n  },\n  $on: function $on(event, handler) {\n    this.on(this.findEvent(event), handler);\n  },\n  $off: function $off(event, handler) {\n    this.off(this.findEvent(event), handler);\n  },\n  findEvent: function findEvent(event) {\n    event = event.startsWith(\".\") ? event : \".\" + event;\n    event = event.endsWith(\".\") ? event : event + \".\";\n    return this.objKeys.find(function (it) {\n      return event.startsWith(it);\n    });\n  }\n});\n\nfunction parseContent(value) {\n  var reId = /(?:\\.?[$\\w][$\\w\\d]*\\s*|\\[\\s*(?:\\d*|('|\")(?:\\\\\\1|.)*?\\1)\\s*\\])*/g;\n  var reStr = /('|\")((?:\\\\\\1|.)*?)\\1/g;\n  var filters = value.split(/\\b\\s*\\|(?!\\|)\\s*/g).map(function (a) {\n    return a.trim();\n  });\n  var expression = filters.shift();\n  var targets = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.mapRegex)(reId, expression, function (it) {\n    return it[0];\n  });\n  var excepts = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.mapRegex)(reStr, expression, function (it) {\n    return it[2];\n  });\n  targets = targets.filter(function (it) {\n    return it && !it.startsWith(\".\") && !~excepts.indexOf(it);\n  });\n  var fnExpression = createFunction1(expression);\n  var fnFilter = createFunction1([\"value\"], filters.reduce(function (pre, it) {\n    // assert.function(w[each], each);\n    if (\"function\" !== typeof window[it]) throw Error(\"\".concat(it, \" is not function!!!\"));\n    return \"\".concat(it, \"(\").concat(pre, \")\");\n  }, \"value\"));\n\n  var getRaw = function getRaw() {\n    return fnExpression.call(obj);\n  };\n\n  return {\n    keys: targets,\n    get: function get() {\n      return fnFilter(fnExpression.call(this));\n    },\n    getRaw: fnExpression\n  };\n}\n\nfunction Directive() {\n  this.cmds = new Map();\n}\n\n(0,_utils__WEBPACK_IMPORTED_MODULE_0__.extend)(Directive, null, {\n  on: function on(cmd, hook) {\n    this.cmds.set(\"o-\".concat(cmd), hook);\n  },\n  get: function get(cmd) {\n    return this.cmds.get(cmd);\n  }\n});\nvar directive = new Directive();\n\nfunction createTemplate(args, str) {\n  return _utils__WEBPACK_IMPORTED_MODULE_0__.createFn.apply(void 0, _toConsumableArray(args).concat([\"return `\".concat(str, \"`\")]));\n}\n\nfunction createFunction0(args, stmt) {\n  var body = \"with(this){\".concat(stmt ? stmt : args, \"}\");\n  return stmt ? _utils__WEBPACK_IMPORTED_MODULE_0__.createFn.apply(void 0, _toConsumableArray(args).concat([body])) : (0,_utils__WEBPACK_IMPORTED_MODULE_0__.createFn)(body);\n}\n\nfunction createFunction1(args, stmt) {\n  var body = \"with(this){return \".concat(stmt ? stmt : args, \"}\");\n  return stmt ? _utils__WEBPACK_IMPORTED_MODULE_0__.createFn.apply(void 0, _toConsumableArray(args).concat([body])) : (0,_utils__WEBPACK_IMPORTED_MODULE_0__.createFn)(body);\n}\n\nvar metaModel = {\n  \"input:text\": function inputText(el, option, value, queue, binder) {\n    queue.push([null, {\n      option: \"value\",\n      value: \"{{\".concat(value, \"}}\"),\n      binder: binder\n    }]);\n    var value1 = \"\".concat(value, \"=$event.target.value\");\n    queue.push([\"o-on\", {\n      option: \"input\",\n      value: value1,\n      queue: queue\n    }]);\n  },\n  \"input:radio\": function inputRadio(el, option, value, queue, binder) {\n    var value1 = \"$el.value?$el.value===String(\".concat(value, \"):\").concat(value);\n    queue.push([\"o-bind\", {\n      option: \"checked\",\n      value: value1,\n      binder: binder\n    }]);\n    var value2 = \"\\n      let res=$event.target.value?($event.target.checked?$event.target.value:''): $event.target.checked;\\n      \".concat(value, \"='true'===res?true:('false'===res?false:res);\");\n    queue.push([\"o-on\", {\n      option: \"input\",\n      value: value2,\n      queue: queue,\n      binder: binder\n    }]);\n  },\n  \"input:checkbox\": function inputCheckbox(el, option, value, queue, binder) {\n    var value1 = \"$el.value?(Array.isArray(\".concat(value, \") ? !!~\").concat(value, \".indexOf($el.value) : $el.value===String(\").concat(value, \")):\").concat(value);\n    queue.push([\"o-bind\", {\n      option: \"checked\",\n      value: value1,\n      binder: binder\n    }]);\n    var value2 = \"if(Array.isArray(\".concat(value, \")) {\\n      let idx = \").concat(value, \".indexOf($event.target.value);\\n      if ($event.target.checked) {\\n        ~idx || \").concat(value, \".push($event.target.value);\\n      } else {\\n        ~idx && \").concat(value, \".splice(idx, 1);\\n      }\\n    } else {\\n      \").concat(value, \"=$event.target.value?($event.target.checked?$event.target.value:''):$event.target.checked; \\n    }\");\n    queue.push([\"o-on\", {\n      option: \"input\",\n      value: value2,\n      queue: queue,\n      binder: binder\n    }]);\n  },\n  \"select:\": function select(el, option, value, queue, binder) {\n    var isMultiple = el.multiple;\n\n    if (isMultiple) {\n      var value1 = \"Array.prototype.forEach.call($el.options, (it)=> it.selected = !!~\".concat(value, \".indexOf(it.value))\");\n      queue.push([\"o-bind\", {\n        option: \"\",\n        value: value1,\n        binder: binder\n      }]);\n      var value2 = \"\".concat(value, \" = Array.prototype.filter.call($event.target.options, (it)=>it.value && it.selected).map(it=>it.value)\");\n      queue.push([\"o-on\", {\n        option: \"change\",\n        value: value2,\n        binder: binder\n      }]);\n    } else {\n      var _value = \"Array.prototype.findIndex.call($el.options, (it)=>it.value===String(\".concat(value, \"))\");\n\n      queue.push([\"o-bind\", {\n        option: \"selectedIndex\",\n        value: _value,\n        binder: binder\n      }]);\n\n      var _value2 = \"\".concat(value, \" = $event.target.options[$event.target.selectedIndex].value\");\n\n      queue.push([\"o-on\", {\n        option: \"change\",\n        value: _value2,\n        binder: binder\n      }]);\n    }\n  }\n};\ndirective.on(\"model\", {\n  binded: function binded(el, obj, _ref) {\n    var option = _ref.option,\n        value = _ref.value,\n        queue = _ref.queue,\n        binder = _ref.binder;\n    option = option || \"value\";\n    var type = el.getAttribute(\"type\");\n    var id = \"\".concat(el.nodeName.toLowerCase(), \":\").concat(type ? type.toLowerCase() : \"\");\n    var handler = metaModel[id];\n\n    if (handler) {\n      handler(el, option, value, queue, binder);\n    } else {\n      console.warn(\"o-model not supported node: \".concat(id));\n    }\n  }\n});\ndirective.on(\"on\", {\n  binded: function binded(el, obj, _ref2) {\n    var option = _ref2.option,\n        value = _ref2.value;\n    var f = createFunction0([\"$event\"], value);\n    el.addEventListener(option, function (e) {\n      return f.call(obj, e);\n    });\n  }\n});\ndirective.on(\"bind\", {\n  binded: function binded(el, obj, _ref3) {\n    var option = _ref3.option,\n        value = _ref3.value,\n        binder = _ref3.binder;\n    var mapping = parseContent(value);\n    if (!mapping) return;\n\n    var action = function action() {\n      binder.metaObj.el = el;\n      var val = mapping.get.call(obj);\n      binder.metaObj.el = null;\n      if (option) el[option] = val;\n    };\n\n    mapping.keys.forEach(function (it) {\n      return binder.$on(\".\" + it, action);\n    });\n    action();\n  }\n});\ndirective.on(\"for\", {\n  binded: function binded(el, obj, _ref4) {\n    var option = _ref4.option,\n        value = _ref4.value,\n        queue = _ref4.queue,\n        binder = _ref4.binder;\n    var parent = el.parentElement;\n    var template = el;\n    parent.removeChild(el);\n    var mapping = parseContent(value);\n    if (!mapping) return;\n    var data = mapping.get.call(obj);\n\n    function appendItem(idx) {\n      var clone = template.cloneNode(true);\n      parent.appendChild(clone);\n      data[idx] = binder.bind(data[idx], clone);\n    }\n\n    function removeItem(idx) {\n      var item = parent.children[idx];\n      item && parent.removeChild(item);\n    }\n\n    for (var i = 0; i < data.length; ++i) {\n      appendItem(i);\n    }\n\n    var bus = new _utils__WEBPACK_IMPORTED_MODULE_0__.EventBus().on(\"d\", function (_ref5) {\n      var prop = _ref5.prop;\n      return removeItem(prop);\n    }).on(\"c\", function (_ref6) {\n      var prop = _ref6.prop;\n      return appendItem(prop);\n    });\n\n    var _loop2 = function _loop2(_i2) {\n      var idx = String(_i2);\n      binder.$on(\".\".concat(mapping.keys[0], \".\").concat(idx), function (_ref8) {\n        var prop = _ref8.prop,\n            type = _ref8.type;\n\n        if (idx === prop) {\n          bus.fire(type, {\n            prop: prop\n          });\n        }\n      });\n    };\n\n    for (var _i2 = 0; _i2 < data.length; ++_i2) {\n      _loop2(_i2);\n    }\n\n    binder.$on(\".\" + mapping.keys[0], function (_ref7) {\n      var prop = _ref7.prop,\n          type = _ref7.type;\n      bus.fire(type, {\n        prop: prop\n      });\n    });\n  }\n});\ndirective.on(\"if\", {\n  binded: function binded(el, obj, _ref9) {\n    var option = _ref9.option,\n        value = _ref9.value,\n        queue = _ref9.queue,\n        binder = _ref9.binder;\n    var parent = el.parentElement;\n    var content = el;\n    var sibling = content.nextSibling;\n    parent.removeChild(content);\n    var mapping = parseContent(value);\n    if (!mapping) return;\n    var isRendered = false;\n\n    function setIf() {\n      if (mapping.get.call(obj)) {\n        parent.insertBefore(content, sibling);\n\n        if (!isRendered) {\n          binder.render(obj, content);\n          isRendered = true;\n        }\n      } else {\n        parent.removeChild(content);\n      }\n    }\n\n    setTimeout(function () {\n      return setIf();\n    }, 0);\n    binder.$on(\".\" + mapping.keys[0], function (_) {\n      return setIf();\n    });\n  }\n});\nfunction bindOf(obj, elem) {\n  if (!(obj && elem)) return obj;\n  var ob = new OBinder();\n  return ob.bind(obj, elem);\n}\n\n//# sourceURL=webpack://o/./src/binder.js?");

/***/ }),

/***/ "./src/console.js":
/*!************************!*\
  !*** ./src/console.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"enableConsole\": () => (/* binding */ enableConsole)\n/* harmony export */ });\n/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom */ \"./src/dom.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n\nvar css = \"\\n\\t.o-logger { position:fixed; bottom:20px; left: 0px; width: 100%; z-index:100; /* pointer-events: none; */ }\\n\\t.o-logger .body { font-family: sans-serif; font-size: small; height: 100px; background-color: rgba(0,0,0,0.5); overflow: scroll; overflow-x: hidden; padding-bottom: 3px; }\\n\\t.o-logger .time { color: white; font-weight: bold; }\\n\\t.o-logger .message { color: white; margin: 0 0 0 5px; overflow-wrap: anywhere; }\\n\\t.o-logger .cli { position:fixed; bottom:0; left: 0; width: 100%; pointer-events: auto; border-radius: 0px; -webkit-appearance: none; }\\n\\t.o-logger .hide { position:fixed; right:0; border: 0px; border-radius: 5px 5px 0px 0px; -webkit-appearance: none; }\\n\\t.o-logger .triangle { display: inline-block; width: 0px; height: 0px; border-bottom: 8px solid black; border-left: 5px solid transparent; border-right: 5px solid transparent; transform: rotate(180deg)}\\n\\t.o-logger .error { background-color: maroon; }\\n\\t.o-logger .warn { background-color: orange; }\\n\\t.o-logger .o-row { border: solid lightgray; border-width: 1px 0px 0px; padding-left: 3px; padding-right: 3px; }\\n\";\nvar firstConsole = false;\n\nfunction ConsoleWindow() {\n  if (!firstConsole) {\n    firstConsole = true;\n    var style = document.createElement(\"style\");\n    style.setAttribute(\"type\", \"text/css\");\n    style.innerHTML = css;\n    document.head.appendChild(style);\n  }\n\n  this.history = {\n    cmds: [],\n    idx: 0\n  };\n  this.initLogger();\n  this.initCli();\n  window.addEventListener(\"error\", function (e) {\n    return console.error(e.error ? e.error.stack ? e.error.stack : e.error : e);\n  });\n  window.addEventListener(\"unhandledrejection\", function (e) {\n    return console.error(e.reason ? e.reason.stack ? e.reason.stack : e.reason : e);\n  });\n}\n\nObject.assign(ConsoleWindow.prototype, {\n  loggerHeight: function loggerHeight() {\n    return this.logger.clientHeight && this.logger.clientHeight + 20;\n  },\n  initLogger: function initLogger() {\n    var _this = this;\n\n    var self = this;\n    var loggerParent = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.createTag)(\"div\", {\n      className: \"o-logger\"\n    });\n    this.loggerParent = loggerParent;\n    document.body.appendChild(loggerParent);\n    var logger = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.createTag)(\"div\", {\n      className: \"body\"\n    });\n    this.logger = logger;\n    loggerParent.appendChild(logger);\n    [\"log\", \"info\", \"warn\", \"error\"].forEach(function (it) {\n      console[it] = _this.createLogFunction(it);\n    });\n    var hide = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.createTag)(\"input\", {\n      type: \"button\",\n      className: \"hide\",\n      value: \"hide\",\n      onclick: function onclick(_ref) {\n        var target = _ref.target;\n\n        if (\"hide\" === target.value) {\n          self.hide();\n          target.value = \"show\";\n        } else {\n          self.show();\n          target.value = \"hide\";\n        }\n\n        target.style.bottom = _this.loggerHeight() + \"px\";\n      }\n    });\n    hide.style.bottom = this.loggerHeight() + \"px\";\n    loggerParent.appendChild(hide); // hide.click();\n  },\n  initCli: function initCli() {\n    var self = this;\n    var history = this.history;\n    var cli = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.createTag)(\"input\", {\n      type: \"text\",\n      className: \"cli\",\n      onchange: function onchange(_ref2) {\n        var target = _ref2.target;\n        history.cmds.push(target.value);\n        history.idx = history.cmds.length;\n\n        try {\n          console.log(eval(target.value));\n        } catch (e) {\n          console.error(e.name + \":\", e.message);\n          console.error(e.stack.toString());\n        } finally {\n          target.value = \"\";\n          self.goBottom();\n        }\n      },\n      onkeyup: function onkeyup(_ref3) {\n        var code = _ref3.code;\n\n        if (0 < history.idx && \"ArrowUp\" === code) {\n          cli.value = history.cmds[--history.idx];\n        }\n\n        if (history.cmds.length - 1 > history.idx && \"ArrowDown\" === code) {\n          cli.value = history.cmds[++history.idx];\n        }\n      }\n    });\n    this.cli = cli;\n    this.loggerParent.appendChild(cli);\n  },\n  createLogFunction: function createLogFunction(type) {\n    var self = this;\n    var org = console[type];\n    return function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      org.apply(console, args);\n      var row = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.createTag)(\"div\", {\n        className: \"o-row \" + type\n      });\n      self.logger.appendChild(row);\n      var now = new Date();\n      now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\n      var tm = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.createTag)(\"span\", {\n        className: \"time\",\n        innerText: now.toISOString().substring(0, 19)\n      });\n      row.appendChild(tm);\n      var text = args.map(function (it) {\n        if (\"object\" === _typeof(it)) {\n          if (it instanceof HTMLElement) {\n            return it.outerHTML;\n          }\n\n          if (it instanceof Set) {\n            it = _toConsumableArray(it);\n          }\n\n          return JSON.stringify(it);\n        } else {\n          return it;\n        }\n      }).join(\" \");\n      var msg = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.createTag)(\"span\", {\n        className: \"message\",\n        innerText: text\n      });\n      row.appendChild(msg);\n      self.goBottom();\n    };\n  },\n  hide: function hide() {\n    this.logger.style.display = \"none\";\n    this.cli.style.display = \"none\";\n  },\n  show: function show() {\n    this.logger.style.display = \"block\";\n    this.cli.style.display = \"block\";\n  },\n  goBottom: function goBottom() {\n    this.logger.scrollTo(0, this.logger.scrollHeight);\n  }\n});\nfunction enableConsole() {\n  return new ConsoleWindow();\n}\n\n//# sourceURL=webpack://o/./src/console.js?");

/***/ }),

/***/ "./src/data.js":
/*!*********************!*\
  !*** ./src/data.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"forEachRange\": () => (/* binding */ forEachRange)\n/* harmony export */ });\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assert */ \"./src/assert.js\");\n\nfunction forEachRange() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var len = args.length;\n  (0,_assert__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(2 === len || 3 === len, \"must be count of arguments is 2 or 3, but \".concat(len));\n\n  if (2 === len) {\n    args.unshift(0);\n  }\n\n  loopRange.apply(this, args);\n}\n\nfunction loopRange(l, r, handler) {\n  for (var i = l; i <= r; ++i) {\n    handler(i);\n  }\n}\n\n//# sourceURL=webpack://o/./src/data.js?");

/***/ }),

/***/ "./src/dom.js":
/*!********************!*\
  !*** ./src/dom.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"appendFormData\": () => (/* binding */ appendFormData),\n/* harmony export */   \"mixinObject\": () => (/* binding */ mixinObject),\n/* harmony export */   \"watchAttribute\": () => (/* binding */ watchAttribute),\n/* harmony export */   \"watchDom\": () => (/* binding */ watchDom),\n/* harmony export */   \"find\": () => (/* binding */ find),\n/* harmony export */   \"findAll\": () => (/* binding */ findAll),\n/* harmony export */   \"findAllByClass\": () => (/* binding */ findAllByClass),\n/* harmony export */   \"findAllByTag\": () => (/* binding */ findAllByTag),\n/* harmony export */   \"findParent\": () => (/* binding */ findParent),\n/* harmony export */   \"dom2str\": () => (/* binding */ dom2str),\n/* harmony export */   \"tag2dom\": () => (/* binding */ tag2dom),\n/* harmony export */   \"redirectForm\": () => (/* binding */ redirectForm),\n/* harmony export */   \"on\": () => (/* binding */ on),\n/* harmony export */   \"off\": () => (/* binding */ off),\n/* harmony export */   \"getForm\": () => (/* binding */ getForm),\n/* harmony export */   \"setForm\": () => (/* binding */ setForm),\n/* harmony export */   \"createTag\": () => (/* binding */ createTag),\n/* harmony export */   \"Resizable\": () => (/* binding */ Resizable),\n/* harmony export */   \"dispatchMouse\": () => (/* binding */ dispatchMouse),\n/* harmony export */   \"activeHide\": () => (/* binding */ activeHide),\n/* harmony export */   \"iterateNode\": () => (/* binding */ iterateNode)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assert */ \"./src/assert.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n\n\nfunction appendFormData(formData, key, value) {\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; ++i) {\n      appendFormData(formData, key + \"[\" + i + \"]\", value[i]);\n    }\n  } else if (\"object\" === _typeof(value)) {\n    for (var k in value) {\n      appendFormData(formData, key + \".\" + k, value[k]);\n    }\n  } else {\n    formData.append(key, value);\n  }\n}\nfunction mixinObject() {\n  this.on = this.addEventListener;\n  this.off = this.removeEventListener;\n  return this;\n}\nfunction watchAttribute(dom, name, callback) {\n  _assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"][\"function\"](callback, \"callback\");\n\n  if (!dom) {\n    return;\n  }\n\n  var observer = new MutationObserver(function (targets) {\n    for (var i = 0; i < targets.length; ++i) {\n      var target = targets[i];\n\n      if (\"attributes\" === target.type && name === target.attributeName) {\n        callback(target.target);\n        break;\n      }\n    }\n  });\n  observer.observe(dom, {\n    attributes: true\n  });\n}\nfunction watchDom(dom, callback) {\n  _assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"][\"function\"](callback, \"callback\");\n  if (!dom) return;\n  var observer = new MutationObserver(function (objects) {\n    for (var i = 0; i < objects.length; ++i) {\n      var obj = objects[i];\n      callback(obj.addedNodes);\n    }\n  }); // childList:true로 변경사항 감지.\n  // 자식 변경은 감지못함(subtree:true로 설정해야 가능)\n\n  observer.observe(dom, {\n    childList: true\n  });\n}\nfunction find(selector, el) {\n  return (el || d).querySelector(selector);\n}\nfunction findAll(selector, el) {\n  return this.toArray((el || d).querySelectorAll(selector));\n}\nfunction findAllByClass(className, el) {\n  return this.toArray((el || d).getElementsByClassName(className));\n}\nfunction findAllByTag(tagName, el) {\n  return this.toArray((el || d).getElementsByTagName(tagName));\n}\nfunction findParent(el, compare) {\n  if (!(el && compare)) {\n    return undefined;\n  }\n\n  if (\"string\" === typeof compare) {\n    var nodeName = compare.toUpperCase();\n\n    compare = function compare(node) {\n      return node.nodeName === nodeName;\n    };\n  }\n\n  do {\n    if (compare(el)) return el;\n    el = el.parentElement || el.parentNode;\n  } while (el && 1 === el.nodeType);\n\n  return null;\n}\nfunction dom2str(el) {\n  // TODO outerHTML\n  var div = d.createElement(\"div\");\n  div.appendChild(el.parentElement ? el.cloneNode(true) : el);\n  return div.innerHTML;\n}\nfunction tag2dom(tagName, attributes) {\n  var obj = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.assign)(d.createElement(tagName), attributes);\n  mixinObject.call(obj);\n  return obj;\n}\nfunction redirectForm(url, data) {\n  var form = createTag(\"form\", {\n    method: \"post\",\n    action: url\n  });\n\n  for (var key in data) {\n    form.append(createTag(\"input\", {\n      type: \"hidden\",\n      name: key,\n      value: data[key]\n    }));\n  }\n\n  d.body.append(form);\n  form.submit();\n}\nfunction on(elem, type, selector, listener, options) {\n  if (!(elem && type)) return;\n\n  if (selector instanceof Function) {\n    options = listener;\n    listener = selector;\n    selector = null;\n  }\n\n  if (!(listener instanceof Function)) {\n    throw TypeError(\"listener must be function\");\n  }\n\n  elem.addEventListener(type, selector ? function (ev) {\n    ev.target.matches(selector) && listener.call(ev.target, ev);\n  } : function (ev) {\n    listener.call(ev.target, ev);\n  }, options);\n}\nfunction off(elem, type, listener, options) {\n  if (!(elem && type)) return;\n\n  if (!(listener instanceof Function)) {\n    throw TypeError(\"listener must be function\");\n  }\n\n  elem.removeEventListener(elem, type, listener, options);\n}\nfunction getForm(elem) {\n  var ret = {};\n  elem && elem.querySelectorAll(\"input,select,textarea\").forEach(function (each) {\n    var name = each.name && each.name.trim();\n    if (!name) return;\n\n    switch (each.tagName) {\n      case \"INPUT\":\n      case \"TEXTAREA\":\n        switch (each.type) {\n          case \"checkbox\":\n          case \"radio\":\n            each.checked && (ret[name] = each.value);\n            break;\n\n          case \"file\":\n            each.files.length && (ret[name] = each.files);\n            break;\n\n          case \"button\":\n          case \"submit\":\n          case \"reset\":\n            break;\n\n          default:\n            each.value && (ret[name] = each.value);\n            break;\n        }\n\n        break;\n\n      case \"SELECT\":\n        var val = each.querySelector(\"option:checked\").value;\n        val && (ret[name] = val);\n        break;\n    }\n  });\n  return ret;\n}\nfunction setForm(elem, obj) {\n  elem && elem.querySelectorAll(\"input,select,textarea\").forEach(function (node) {\n    var name = node.name && node.name.trim();\n    if (!name) return;\n\n    switch (node.tagName) {\n      case \"INPUT\":\n      case \"TEXTAREA\":\n        switch (node.type) {\n          case \"checkbox\":\n          case \"radio\":\n            node.checked = node.value === obj[name].toString();\n            break;\n\n          case \"button\":\n          case \"submit\":\n          case \"reset\":\n          case \"file\":\n            break;\n\n          default:\n            node.value = obj[name];\n            break;\n        }\n\n        break;\n\n      case \"SELECT\":\n        Array.prototype.forEach(node.options, function (opt) {\n          opt.checked = opt.value === obj[name];\n        });\n        break;\n    }\n  });\n}\nfunction createTag(name, attributes) {\n  var obj = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.assign)(document.createElement(name), attributes);\n  EventMixin.call(obj);\n  return obj;\n}\n\nfunction EventMixin() {\n  this.on = this.addEventListener;\n  this.off = this.removeEventListener;\n}\n\nfunction Resizable(el) {\n  this.el = el;\n  this.style = Object.assign(el.style, {\n    position: \"absolute\",\n    \"pointer-events\": \"none\"\n  });\n}\nObject.assign(Resizable.prototype, {\n  move: function move(x, y) {\n    this.style.top = y + \"px\";\n    this.style.left = x + \"px\";\n    return this;\n  },\n  resize: function resize(w, h) {\n    this.style.width = w + \"px\";\n    this.style.height = h + \"px\";\n    return this;\n  },\n  scale: function scale(val) {\n    var _this$el$getBoundingC = this.el.getBoundingClientRect(),\n        width = _this$el$getBoundingC.width,\n        height = _this$el$getBoundingC.height;\n\n    this.resize(width * val, height * val);\n    return this;\n  }\n});\nfunction dispatchMouse(target) {\n  [[\"touchstart\", \"mousedown\"], [\"touchmove\", \"mousemove\"], [\"touchend\", \"mouseup\"]].forEach(function (it) {\n    target.addEventListener(it[0], function (ev) {\n      \"touchstart\" === it[0] && ev.preventDefault();\n      var touch = ev.touches ? ev.touches[0] : null;\n      ev.target.dispatchEvent(new MouseEvent(it[1], touch));\n    });\n  });\n}\nfunction activeHide() {\n  var hiddenElements = new Set();\n  var observer = new MutationObserver(function (ev) {\n    ev.forEach(function (_ref) {\n      var target = _ref.target;\n\n      if (target.classList && target.classList.contains(\"hide\")) {\n        target.style.display = \"none\";\n        hiddenElements.add(target);\n      } else {\n        if (hiddenElements.has(target)) {\n          hiddenElements[\"delete\"](target);\n          target.style.display = null;\n        }\n      }\n    });\n  });\n  observer.observe(document.body, {\n    attributes: true,\n    attributeFilter: [\"class\"],\n    childList: false,\n    characterData: false,\n    subtree: true\n  });\n}\nfunction iterateNode(node, visitor) {\n  _assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"][\"function\"](visitor, \"visitor\");\n  if (!node) return;\n  var visited = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.now)();\n  var waits = [node];\n  var el;\n\n  while (0 < waits.length) {\n    el = waits.shift();\n    if (!document.body.contains(el)) continue;\n\n    for (el = el.firstChild; el; el = el.nextSibling) {\n      if (el._o_visited === visited) {\n        throw Error(\"loopping in the dom tree: \" + el.localname + \"(\" + el.className + \")\");\n      }\n\n      if (false === visitor(el)) return;\n      waits.push(el);\n      el._o_visited === visited;\n    }\n  }\n}\n\n//# sourceURL=webpack://o/./src/dom.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"forEachRange\": () => (/* reexport safe */ _data__WEBPACK_IMPORTED_MODULE_0__.forEachRange),\n/* harmony export */   \"EventBus\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.EventBus),\n/* harmony export */   \"ajax\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.ajax),\n/* harmony export */   \"ajaxJson\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.ajaxJson),\n/* harmony export */   \"arrayIndex\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.arrayIndex),\n/* harmony export */   \"assign\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.assign),\n/* harmony export */   \"benchmark\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.benchmark),\n/* harmony export */   \"bindTouch\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.bindTouch),\n/* harmony export */   \"cached\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.cached),\n/* harmony export */   \"clientToOffset\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.clientToOffset),\n/* harmony export */   \"createFn\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.createFn),\n/* harmony export */   \"defineHiddenProperty\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.defineHiddenProperty),\n/* harmony export */   \"extend\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.extend),\n/* harmony export */   \"extendDefault\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.extendDefault),\n/* harmony export */   \"forEachRegex\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.forEachRegex),\n/* harmony export */   \"isFunction\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.isFunction),\n/* harmony export */   \"isObject\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.isObject),\n/* harmony export */   \"isPlanObject\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.isPlanObject),\n/* harmony export */   \"isalpha\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.isalpha),\n/* harmony export */   \"isnum\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.isnum),\n/* harmony export */   \"iterateObj\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.iterateObj),\n/* harmony export */   \"loadImage\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.loadImage),\n/* harmony export */   \"mapRegex\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.mapRegex),\n/* harmony export */   \"mixin\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.mixin),\n/* harmony export */   \"newFunction\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.newFunction),\n/* harmony export */   \"noop\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.noop),\n/* harmony export */   \"now\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.now),\n/* harmony export */   \"once\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.once),\n/* harmony export */   \"proxyObj\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.proxyObj),\n/* harmony export */   \"randomRange\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.randomRange),\n/* harmony export */   \"readFileArray\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.readFileArray),\n/* harmony export */   \"readFileString\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.readFileString),\n/* harmony export */   \"readUrl\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.readUrl),\n/* harmony export */   \"round\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.round),\n/* harmony export */   \"str2dom\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.str2dom),\n/* harmony export */   \"tick\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.tick),\n/* harmony export */   \"toArray\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.toArray),\n/* harmony export */   \"toString\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.toString),\n/* harmony export */   \"unbindTouch\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.unbindTouch),\n/* harmony export */   \"watch\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.watch),\n/* harmony export */   \"wrapper\": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.wrapper),\n/* harmony export */   \"camelize\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.camelize),\n/* harmony export */   \"capitalize\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.capitalize),\n/* harmony export */   \"decodeHTML\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.decodeHTML),\n/* harmony export */   \"formatBytes\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.formatBytes),\n/* harmony export */   \"formatNumber\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.formatNumber),\n/* harmony export */   \"hyphenate\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.hyphenate),\n/* harmony export */   \"isEmail\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.isEmail),\n/* harmony export */   \"isNumber\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.isNumber),\n/* harmony export */   \"parseQueryString\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.parseQueryString),\n/* harmony export */   \"pixelOf\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.pixelOf),\n/* harmony export */   \"replaceAll\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.replaceAll),\n/* harmony export */   \"sprint\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.sprint),\n/* harmony export */   \"toQueryString\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.toQueryString),\n/* harmony export */   \"truncatePx\": () => (/* reexport safe */ _string__WEBPACK_IMPORTED_MODULE_2__.truncatePx),\n/* harmony export */   \"bindOf\": () => (/* reexport safe */ _binder__WEBPACK_IMPORTED_MODULE_3__.bindOf),\n/* harmony export */   \"Resizable\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.Resizable),\n/* harmony export */   \"activeHide\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.activeHide),\n/* harmony export */   \"appendFormData\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.appendFormData),\n/* harmony export */   \"createTag\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.createTag),\n/* harmony export */   \"dispatchMouse\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.dispatchMouse),\n/* harmony export */   \"dom2str\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.dom2str),\n/* harmony export */   \"find\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.find),\n/* harmony export */   \"findAll\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.findAll),\n/* harmony export */   \"findAllByClass\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.findAllByClass),\n/* harmony export */   \"findAllByTag\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.findAllByTag),\n/* harmony export */   \"findParent\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.findParent),\n/* harmony export */   \"getForm\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.getForm),\n/* harmony export */   \"iterateNode\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.iterateNode),\n/* harmony export */   \"mixinObject\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.mixinObject),\n/* harmony export */   \"off\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.off),\n/* harmony export */   \"on\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.on),\n/* harmony export */   \"redirectForm\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.redirectForm),\n/* harmony export */   \"setForm\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.setForm),\n/* harmony export */   \"tag2dom\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.tag2dom),\n/* harmony export */   \"watchAttribute\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.watchAttribute),\n/* harmony export */   \"watchDom\": () => (/* reexport safe */ _dom__WEBPACK_IMPORTED_MODULE_4__.watchDom),\n/* harmony export */   \"assert\": () => (/* reexport safe */ _assert__WEBPACK_IMPORTED_MODULE_5__.assert),\n/* harmony export */   \"enableConsole\": () => (/* reexport safe */ _console__WEBPACK_IMPORTED_MODULE_6__.enableConsole),\n/* harmony export */   \"getById\": () => (/* binding */ getById),\n/* harmony export */   \"getJson\": () => (/* binding */ getJson),\n/* harmony export */   \"postJson\": () => (/* binding */ postJson),\n/* harmony export */   \"putJson\": () => (/* binding */ putJson),\n/* harmony export */   \"deleteJson\": () => (/* binding */ deleteJson),\n/* harmony export */   \"postForm\": () => (/* binding */ postForm),\n/* harmony export */   \"postMultipart\": () => (/* binding */ postMultipart),\n/* harmony export */   \"convertToFormData\": () => (/* binding */ convertToFormData),\n/* harmony export */   \"evalInContext\": () => (/* binding */ evalInContext),\n/* harmony export */   \"getTick\": () => (/* binding */ getTick),\n/* harmony export */   \"resetTick\": () => (/* binding */ resetTick)\n/* harmony export */ });\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data */ \"./src/data.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils.js\");\n/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./string */ \"./src/string.js\");\n/* harmony import */ var _binder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./binder */ \"./src/binder.js\");\n/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dom */ \"./src/dom.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./assert */ \"./src/assert.js\");\n/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./console */ \"./src/console.js\");\n// import {\n//   mixin,\n//   assign,\n// } from \"./utils\";\n// import {\n//   appendFormData,\n//   findParent,\n//   findAllByTag,\n// } from \"./dom\";\n// export const {\n//   decodeHTML,\n//   formatNumber,\n//   formatBytes,\n// } = str;\n\n\n\n\n\n\n\n\n\n\nvar d = document;\nvar getById = d.getElementById.bind(d);\nfunction getJson(url, data) {\n  return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.ajaxJson)({\n    url: url,\n    method: \"GET\"\n  }, data);\n}\nfunction postJson(url, data) {\n  return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.ajaxJson)({\n    url: url,\n    method: \"POST\"\n  }, data);\n}\nfunction putJson(url, data) {\n  return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.ajaxJson)({\n    url: url,\n    method: \"PUT\"\n  }, data);\n}\nfunction deleteJson(url, data) {\n  return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.ajaxJson)({\n    url: url,\n    method: \"DELETE\"\n  }, data);\n}\nfunction postForm(url, formData) {\n  formData = convertToFormData(formData);\n  return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.ajax)({\n    url: url + \"?\" + (0,_string__WEBPACK_IMPORTED_MODULE_2__.toQueryString)(null, true),\n    method: \"POST\"\n  }, formData).then(function (res) {\n    return res.json();\n  });\n}\nfunction postMultipart(url, formData) {\n  //TODO xhr.upload.onprogress 추가\n  formData = convertToFormData(formData);\n  return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.ajax)({\n    url: url,\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  }, formData);\n}\nfunction convertToFormData(data) {\n  if (!data || ~data.toString().lastIndexOf(\"FormData\")) {\n    return data;\n  }\n\n  var ret = new FormData();\n\n  for (var key in data) {\n    (0,_dom__WEBPACK_IMPORTED_MODULE_4__.appendFormData)(ret, key, data[key]);\n  }\n\n  return ret;\n}\nfunction evalInContext(str, ctx) {\n  return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.newFunction)(str).call(ctx);\n}\nvar tickData = {};\nfunction getTick(id) {\n  return tickData[id];\n}\nfunction resetTick(id) {\n  delete tickData[id];\n}\n\n//# sourceURL=webpack://o/./src/index.js?");

/***/ }),

/***/ "./src/next.js":
/*!*********************!*\
  !*** ./src/next.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Next)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assert */ \"./src/assert.js\");\n\n\nfunction Next(handler) {\n  _assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"][\"function\"](handler, \"handler\");\n  this.fulfillHandlers = [];\n  this.rejectHandlers = [];\n  this.hasResponse = false;\n  this.occureError = false;\n\n  try {\n    handler(this.onFullfill.bind(this), this.onReject.bind(this));\n  } catch (ex) {\n    this.onReject(ex);\n  }\n}\n(0,_utils__WEBPACK_IMPORTED_MODULE_0__.mixin)(Next, {\n  onFullfill: function onFullfill(response) {\n    if (this.hasResponse || this.occureError) return;\n    this.hasResponse = true;\n    this.response = response;\n    this.callFullfillHandler(response);\n  },\n  callFullfillHandler: function callFullfillHandler(response) {\n    try {\n      var res = response;\n      this.fulfillHandlers.forEach(function (each, idx) {\n        res = each(res);\n      });\n    } catch (ex) {\n      this.onReject(ex);\n    }\n  },\n  then: function then(handler) {\n    this.fulfillHandlers.push(handler);\n\n    if (this.hasResponse) {\n      var response = this.response;\n      this.response = null;\n      this.callFullfillHandler(response);\n    }\n\n    return this;\n  },\n  onReject: function onReject(error) {\n    if (this.occureError) return;\n    this.occureError = true;\n    this.error = error;\n    this.callRejectHandlers(error);\n  },\n  callRejectHandlers: function callRejectHandlers(error) {\n    var err = error;\n    this.rejectHandlers.forEach(function (each, idx) {\n      err = each(err);\n    });\n  },\n  \"catch\": function _catch(handler) {\n    this.rejectHandlers.push(handler);\n\n    if (this.occureError) {\n      var error = this.error;\n      this.error = null;\n      this.callRejectHandlers(error);\n    }\n\n    return this;\n  }\n});\n\n//# sourceURL=webpack://o/./src/next.js?");

/***/ }),

/***/ "./src/string.js":
/*!***********************!*\
  !*** ./src/string.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"decodeHTML\": () => (/* binding */ decodeHTML),\n/* harmony export */   \"formatNumber\": () => (/* binding */ formatNumber),\n/* harmony export */   \"formatBytes\": () => (/* binding */ formatBytes),\n/* harmony export */   \"toQueryString\": () => (/* binding */ toQueryString),\n/* harmony export */   \"parseQueryString\": () => (/* binding */ parseQueryString),\n/* harmony export */   \"camelize\": () => (/* binding */ camelize),\n/* harmony export */   \"hyphenate\": () => (/* binding */ hyphenate),\n/* harmony export */   \"capitalize\": () => (/* binding */ capitalize),\n/* harmony export */   \"sprint\": () => (/* binding */ sprint),\n/* harmony export */   \"replaceAll\": () => (/* binding */ replaceAll),\n/* harmony export */   \"isNumber\": () => (/* binding */ isNumber),\n/* harmony export */   \"isEmail\": () => (/* binding */ isEmail),\n/* harmony export */   \"pixelOf\": () => (/* binding */ pixelOf),\n/* harmony export */   \"truncatePx\": () => (/* binding */ truncatePx)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.js\");\n\nfunction decodeHTML(str) {\n  return str && str.replace(/%lt;/g, \"<\").replace(/&gt;/g, \">\");\n}\nfunction formatNumber(num) {\n  return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\nvar units = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\nfunction formatBytes(value, digits) {\n  if (!value) return \"0 B\";\n  var exp = Math.floor(Math.log(value) / Math.log(1024));\n  return (value / Math.pow(1024, exp)).toFixed(digits).concat(\" \").concat(units[exp]);\n}\nfunction toQueryString(obj, enableT) {\n  var data = [];\n\n  for (var key in obj) {\n    data.push(key.concat(\"=\").concat(encodeURIComponent(obj[key])));\n  }\n\n  if (enableT) data.push(\"t=\".concat(new Date().getTime()));\n  return data.join(\"&\");\n}\nfunction parseQueryString(str) {\n  var ret = {};\n  var tokens = str.split(\"&\");\n\n  for (var i = 0; i < tokens.length; ++i) {\n    var items = tokens[i].split(\"=\");\n    ret[item[0]] = item[1] && decodeURIComponent(item[1]);\n  }\n\n  return ret;\n}\nvar camelizeRE = /-(\\w)/g;\nvar camelize = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.cached)(function (str) {\n  return str && str.replace(camelizeRE, function (_, c) {\n    return c ? c.toUpperCase() : \"\";\n  });\n});\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.cached)(function (str) {\n  return str && str.replace(hyphenateRE, \"-$1\").toLowerCase();\n});\nvar capitalize = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.cached)(function (str) {\n  return str && str.charAt(0).toUpperCase().concat(str.slice(1));\n});\nfunction sprint(fmt) {\n  var args = arguments;\n  return fmt.replace(/{(\\d+)}/g, function (match, value) {\n    return void 0 !== args[value] ? args[value] : match;\n  });\n}\nfunction replaceAll(str, context) {\n  if (\"string\" === typeof contenxt) {\n    return str.replace(context);\n  }\n\n  if (content instanceof Object) {\n    return str.replace(/\\{(\\w+)\\}/g, function (match, key) {\n      return context.hasOwnProperty(key) ? context[key] : match;\n    });\n  }\n}\nvar reNumber = /^[0-9]+$/;\nfunction isNumber(str) {\n  return reNumber.test(str);\n}\nvar reEmail = /^([0-9a-zA-Z_\\.-]+)@([0-9a-zA-Z_-]+)(\\.[0-9a-zA-Z_-]+){1,2}$/;\nfunction isEmail(str) {\n  return reEmail.test(str);\n}\nfunction pixelOf(el, str) {\n  el.innerHTML = str;\n  return el.offsetWidth;\n}\nfunction truncatePx(str, px, opts) {\n  var span = document.createElement(\"span\");\n  document.body.appendChild(span);\n\n  try {\n    opts = opts || {};\n    span.className = null;\n\n    if (\"string\" === typeof opts) {\n      span.className = opts;\n    } else {\n      Object.assign(span.style, opts);\n    }\n\n    span.style.visibility = \"hidden\";\n    span.style.padding = \"0px\";\n    var p = str.length;\n\n    while (0 < p && px < pixelOf(span, str)) {\n      str = str.substring(0, --p) + \"…\";\n    }\n  } finally {\n    document.body.removeChild(span);\n  }\n\n  return str;\n}\n\n//# sourceURL=webpack://o/./src/string.js?");

/***/ }),

/***/ "./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"toString\": () => (/* binding */ toString),\n/* harmony export */   \"isObject\": () => (/* binding */ isObject),\n/* harmony export */   \"isFunction\": () => (/* binding */ isFunction),\n/* harmony export */   \"isPlanObject\": () => (/* binding */ isPlanObject),\n/* harmony export */   \"defineHiddenProperty\": () => (/* binding */ defineHiddenProperty),\n/* harmony export */   \"isalpha\": () => (/* binding */ isalpha),\n/* harmony export */   \"isnum\": () => (/* binding */ isnum),\n/* harmony export */   \"noop\": () => (/* binding */ noop),\n/* harmony export */   \"wrapper\": () => (/* binding */ wrapper),\n/* harmony export */   \"cached\": () => (/* binding */ cached),\n/* harmony export */   \"mixin\": () => (/* binding */ mixin),\n/* harmony export */   \"assign\": () => (/* binding */ assign),\n/* harmony export */   \"str2dom\": () => (/* binding */ str2dom),\n/* harmony export */   \"now\": () => (/* binding */ now),\n/* harmony export */   \"tick\": () => (/* binding */ tick),\n/* harmony export */   \"ajax\": () => (/* binding */ ajax),\n/* harmony export */   \"ajaxJson\": () => (/* binding */ ajaxJson),\n/* harmony export */   \"newFunction\": () => (/* binding */ newFunction),\n/* harmony export */   \"extend\": () => (/* binding */ extend),\n/* harmony export */   \"extendDefault\": () => (/* binding */ extendDefault),\n/* harmony export */   \"watch\": () => (/* binding */ watch),\n/* harmony export */   \"proxyObj\": () => (/* binding */ proxyObj),\n/* harmony export */   \"arrayIndex\": () => (/* binding */ arrayIndex),\n/* harmony export */   \"readFileString\": () => (/* binding */ readFileString),\n/* harmony export */   \"readFileArray\": () => (/* binding */ readFileArray),\n/* harmony export */   \"once\": () => (/* binding */ once),\n/* harmony export */   \"readUrl\": () => (/* binding */ readUrl),\n/* harmony export */   \"randomRange\": () => (/* binding */ randomRange),\n/* harmony export */   \"round\": () => (/* binding */ round),\n/* harmony export */   \"toArray\": () => (/* binding */ toArray),\n/* harmony export */   \"bindTouch\": () => (/* binding */ bindTouch),\n/* harmony export */   \"unbindTouch\": () => (/* binding */ unbindTouch),\n/* harmony export */   \"clientToOffset\": () => (/* binding */ clientToOffset),\n/* harmony export */   \"benchmark\": () => (/* binding */ benchmark),\n/* harmony export */   \"loadImage\": () => (/* binding */ loadImage),\n/* harmony export */   \"EventBus\": () => (/* binding */ EventBus),\n/* harmony export */   \"createFn\": () => (/* binding */ createFn),\n/* harmony export */   \"iterateObj\": () => (/* binding */ iterateObj),\n/* harmony export */   \"forEachRegex\": () => (/* binding */ forEachRegex),\n/* harmony export */   \"mapRegex\": () => (/* binding */ mapRegex)\n/* harmony export */ });\n/* harmony import */ var _next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./next */ \"./src/next.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assert */ \"./src/assert.js\");\n/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./string */ \"./src/string.js\");\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\nvar w = window;\nvar MutationObserver = w.MutationObserver || w.WebKitMutationObserver;\nvar toString = function toString(obj) {\n  return Object.prototype.toString.call(obj);\n};\nvar isObject = function isObject(obj) {\n  return obj && obj instanceof Object;\n};\nvar isFunction = function isFunction(obj) {\n  return \"function\" === typeof obj;\n};\nvar isPlanObject = function isPlanObject(obj) {\n  return toString(obj) === \"[object Object]\";\n};\nvar defineHiddenProperty = function defineHiddenProperty(obj, key, value) {\n  return Object.defineProperty(obj, key, Object.assign({\n    configurable: false,\n    enumerable: false\n  }, value));\n};\nfunction isalpha(c) {\n  return \"a\" <= c && c <= \"z\" || \"A\" <= c && c <= \"Z\" || \"_\" === c;\n}\nfunction isnum(c) {\n  return \"0\" <= c && c <= \"9\";\n}\nvar noop = function noop(_) {\n  return _;\n};\nfunction wrapper(source, attr, fn) {\n  source[\"_\" + attr] = source[attr];\n  source[attr] = fn;\n}\nfunction cached(fn) {\n  var cache = Object.create(null);\n  return function cachedFn(arg) {\n    var hit = cache[arg];\n    return hit || (cache[arg] = fn(arg));\n  };\n}\nfunction mixin(target) {\n  for (var i = 1; i < arguments.length; ++i) {\n    var arg = arguments[i];\n\n    if (arg instanceof Function) {\n      arg.call(target);\n    } else {\n      assign(target.prototype, arg);\n    }\n  }\n\n  return target;\n}\nfunction assign(target, source, deep) {\n  var target_ = target || {};\n\n  for (var key in source) {\n    var src = source[key];\n    target_[key] = deep && src instanceof Object ? assign(target_[key], src) : src;\n  }\n\n  return target_;\n}\nfunction str2dom(text) {\n  var res = new DOMParser().parseFromString(text, \"text/xml\");\n  return res.firstChild;\n}\nvar now = w.performance && w.performance.timing && w.performance.timing.navigationStart && w.performance.now ? function () {\n  return w.performance.timing.navigationStart + w.performance.now();\n} : function () {\n  return new Date().getTime();\n};\nfunction tick(id) {\n  var t = now();\n  tickData[id] = tickData[id] || [];\n  tickData[id].push(t);\n}\nfunction ajax(opts, data) {\n  opts = assign({\n    method: \"GET\",\n    responseType: \"\",\n    headers: {}\n  }, opts, true);\n  data = data || opts.data;\n  return new _next__WEBPACK_IMPORTED_MODULE_0__[\"default\"](function (resolve, reject) {\n    try {\n      var xhr = new XMLHttpRequest();\n      opts.responseType && (xhr.responseType = opts.responseType);\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === XMLHttpRequest.DONE) {\n          var res = new HttpResponse(xhr);\n          mixinHttpResponse.call(res);\n          resolve(res);\n        }\n      };\n\n      xhr.open(opts.method, opts.url, true);\n\n      for (var key in opts.headers) {\n        xhr.setRequestHeader(key, opts.headers[key]);\n      }\n\n      xhr.send(data);\n    } catch (ex) {\n      reject(ex);\n    }\n  });\n}\n\nfunction mixinHttpResponse() {\n  var text = this.bodyText;\n  this.json = cached(function () {\n    return JSON.parse(text);\n  });\n  this.xml = cached(function () {\n    return str2dom(text);\n  });\n}\n\nfunction HttpResponse(xhr) {\n  this.status = xhr.status;\n  this.statusText = xhr.statusText;\n  this.body = xhr.response;\n  this.bodyText = xhr.responseText;\n  var headers = this.headers = {};\n  xhr.getAllResponseHeaders().split(\"\\r\\n\").forEach(function (each) {\n    var p = each.indexOf(\":\");\n    ~p && (headers[each.substring(0, p).trim()] = each.substring(p + 1).trim());\n  });\n}\n\nfunction ajaxJson(opts, data) {\n  opts = assign({\n    method: \"GET\"\n  }, opts, true);\n  opts.url = opts.url + \"?\" + (0,_string__WEBPACK_IMPORTED_MODULE_2__.toQueryString)(queryData, true);\n  opts.headers = assign(opts.headers || {}, {\n    \"Content-Type\": \"application/json;charset=UTF-8\"\n  });\n  var queryData = null;\n\n  if (data && (\"GET\" === opts.method || \"DELETE\" === opts.method)) {\n    queryData = data;\n    data = null;\n  }\n\n  return ajax(opts, data && JSON.stringify(data)).then(function (res) {\n    return res.json();\n  });\n}\nfunction newFunction(str) {\n  return new Function(\"with(this){return \" + str + \"}\");\n} // sub는 base를 상속하도록 연결함. sub 생성자에서 base을 생성자를 명시적으로 호출 필요.\n// 권장하는 방식으로 OOP에서도 부모 생성자를 명시적으로 호출이 필요함.\n// function P(opts) {}\n// function C(opts) {\n//     P.call(this, opts);\n// }\n// extend(C, P);\n\nfunction extend(sub, base, methods) {\n  sub.prototype = Object.create(base && base.prototype);\n  sub.prototype.constructor = sub;\n  methods && Object.assign(sub.prototype, methods);\n  return sub;\n}\nfunction extendDefault(sub, base) {\n  sub.prototype = Object.assign(new base(), sub.prototype);\n  sub.prototype.constructor = sub;\n  sub.base = base;\n  return sub;\n}\nfunction watch(obj, key, callback) {\n  _assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"][\"function\"](callback, \"callback\");\n  var value = obj[key];\n  Object.defineProperty(obj, key, {\n    set: function set(val) {\n      value = val;\n      callback(val);\n    },\n    get: function get() {\n      return value;\n    }\n  });\n}\nfunction proxyObj(obj, callback) {\n  var prefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n  if (!isObject(obj) || isFunction(obj)) return obj;\n\n  for (var k in obj) {\n    var v = obj[k];\n    if (!isObject(v) || isFunction(v)) continue;\n    obj[k] = proxyObj(v, callback, \"\".concat(prefix, \".\").concat(k));\n  }\n\n  return proxyImpl(obj, function (type, target, prop, val) {\n    var key = \"\".concat(prefix, \".\").concat(prop);\n\n    if (!prop.startsWith(\"$\") && isObject(val) && !isFunction(val)) {\n      target[prop] = proxyObj(val, callback, key);\n    }\n\n    callback(key, {\n      obj: target,\n      prop: prop,\n      type: type\n    });\n  });\n}\nvar g_proxies = new Map();\n\nfunction proxyImpl(obj, callback) {\n  _assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"][\"function\"](callback, \"callback\");\n  if (!isObject(obj)) return obj;\n  var isArray = Array.isArray(obj);\n  var each;\n  var callbacks = g_proxies.get(obj);\n\n  if (!callbacks) {\n    callbacks = [];\n    obj = new Proxy(obj, {\n      set: function set(target, prop, value, receiver) {\n        var type = target.hasOwnProperty(prop) ? \"u\" : \"c\";\n        target[prop] = value;\n\n        if (!isArray || \"length\" !== prop) {\n          callbacks.forEach(function (it) {\n            return it(type, target, prop, value);\n          });\n        }\n\n        return true;\n      },\n      deleteProperty: function deleteProperty(target, prop) {\n        var stack = [target[prop]];\n\n        while (each = stack.pop()) {\n          for (var k in each) {\n            var v = each[k];\n\n            if (v && isObject(v) && !isFunction(v)) {\n              ~stack.indexOf(v) || stack.push(v);\n            }\n          }\n\n          g_proxies[\"delete\"](each);\n        }\n\n        delete target[prop];\n        callbacks.forEach(function (it) {\n          return it(\"d\", target, prop);\n        });\n        return true;\n      }\n    });\n    g_proxies.set(obj, callbacks);\n  }\n\n  ~callbacks.indexOf(callback) || callbacks.push(callback);\n  return obj;\n}\n\nfunction arrayIndex(array, compare) {\n  if (\"string\" === typeof compare) {\n    var keyword = compare;\n\n    compare = function compare(val) {\n      return val === keyword;\n    };\n  } else {\n    _assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"][\"function\"](compare, \"compare\");\n  }\n\n  for (var i = 0; i < array.length; ++i) {\n    if (compare(array[i])) return i;\n  }\n\n  return -1;\n}\nfunction readFileString(file) {\n  readFileCB(file, function (reader, file) {\n    return reader.readAsBinaryString(file);\n  });\n}\nfunction readFileArray(file) {\n  readFileCB(file, function (reader, file) {\n    return reader.readAsArrayBuffer(file);\n  });\n}\n\nfunction readFileCB(file, readCb) {\n  console.assert(\"function\" === typeof readCb, \"invalid type of readCb\");\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function (ev) {\n      resolve(ev.target.result);\n    };\n\n    reader.onerror = function (err) {\n      reject(err);\n    };\n\n    readCb(reader, file);\n  });\n}\n\nfunction once(fn) {\n  var called = false;\n  return function () {\n    if (called) return;\n    fn.apply(fn, arguments);\n  };\n}\nfunction readUrl(url) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = \"arraybuffer\";\n\n    xhr.onreadystatechange = function () {\n      if (XMLHttpRequest.DONE !== xhr.readyState) {\n        return;\n      }\n\n      if (200 === xhr.status) {\n        resolve(xhr.response);\n      } else {\n        reject(xhr);\n      }\n    };\n\n    xhr.open(\"GET\", url, true);\n    xhr.send();\n  });\n}\nfunction randomRange(min, max) {\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\nfunction round(value, decimal) {\n  var fix = Math.pow(10, decimal);\n  return Math.round(value * fix) / fix;\n}\nfunction toArray(obj) {\n  return Array.prototype.slice.call(obj);\n} // 싱글터치(멀티터치/터치스크롤 미지원) 이벤트를 마우스 이벤트로 바인딩해서 처리\n\nfunction onTouchstart(ev) {\n  ev.preventDefault();\n  var target = ev.target,\n      touches = ev.touches;\n  var _touches$ = touches[0],\n      clientX = _touches$.clientX,\n      clientY = _touches$.clientY;\n  target.dispatchEvent(new MouseEvent(\"mousedown\", {\n    clientX: clientX,\n    clientY: clientY\n  }));\n}\n\nfunction onTouchmove(_ref) {\n  var target = _ref.target,\n      touches = _ref.touches;\n  var _touches$2 = touches[0],\n      clientX = _touches$2.clientX,\n      clientY = _touches$2.clientY;\n  target.dispatchEvent(new MouseEvent(\"mousemove\", {\n    clientX: clientX,\n    clientY: clientY\n  }));\n}\n\nfunction onTouchup(_ref2) {\n  var target = _ref2.target;\n  target.dispatchEvent(new MouseEvent(\"mouseup\"));\n}\n\nfunction bindTouch(el) {\n  if (!el) return;\n  console.assert(!!el.addEventListener, \"el must be addEventListener\");\n  el.addEventListener(\"touchstart\", onTouchstart);\n  el.addEventListener(\"touchmove\", onTouchmove);\n  el.addEventListener(\"touchend\", onTouchup);\n}\nfunction unbindTouch(el) {\n  if (!el) return;\n  console.assert(!!el.removeEventListener, \"el must be removeEventListener\");\n  el.removeEventListener(\"touchstart\", onTouchstart);\n  el.removeEventListener(\"touchmove\", onTouchmove);\n  el.removeEventListener(\"touchend\", onTouchup);\n} // 안드로이드 offset 위치 변환\n\nfunction clientToOffset(target, clientX, clientY) {\n  return {\n    offsetX: clientX - target.left,\n    offsetY: clientY - target.top\n  };\n}\nfunction benchmark(fn, timeoutMsec) {\n  var to = Date.now() + (timeoutMsec || 1000);\n  var count = 0;\n\n  while (to > Date.now()) {\n    var r = fn();\n    ++count;\n  }\n\n  var end = Date.now();\n  var runtime = (end - to) / 1000.0 + 1.0;\n  var speed = count / runtime;\n  console.log(\"runtime: \".concat(runtime, \" sec, count: \").concat(count, \" ea, speed: \").concat(speed, \" ea/s\"));\n  return {\n    runtime: runtime,\n    count: count,\n    speed: speed\n  };\n}\nfunction loadImage(src) {\n  return new Promise(function (resolve, reject) {\n    var image = new Image();\n\n    image.onload = function () {\n      resolve(image);\n    };\n\n    image.onerror = function () {\n      reject({\n        message: \"loading image failed: \".concat(this.src)\n      });\n    };\n\n    image.src = src;\n  });\n}\nfunction EventBus() {\n  this.handlerMap = new Map();\n}\nextend(EventBus, null, {\n  on: function on(event, handler) {\n    if (!(event && handler)) return this;\n    var handlers = this.handlerMap.get(event);\n\n    if (!handlers) {\n      handlers = new Set();\n      this.handlerMap.set(event, handlers);\n    }\n\n    handlers.add(handler);\n    return this;\n  },\n  off: function off(event, handler) {\n    if (!(event && handler)) return this;\n    var handlers = this.handlerMap.get(event);\n\n    if (handlers) {\n      handlers[\"delete\"](handler);\n    }\n\n    return this;\n  },\n  // flag: 1-bubbing, 2-capturing, 3-all\n  fire: function fire(event, value) {\n    var _this = this;\n\n    var flag = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    if (!event) return this;\n    var handlers = this.handlerMap.get(event);\n    handlers && handlers.forEach(function (it) {\n      return it(value, event);\n    });\n\n    if (flag & 1) {\n      var idx = event.lastIndexOf(\".\", event.length - 2);\n      ~idx && this.fire(event.substr(0, idx + 1), value, 1);\n    }\n\n    if (flag & 2) {\n      _toConsumableArray(this.handlerMap.keys()).filter(function (it) {\n        return event !== it && it.startsWith(event);\n      }).forEach(function (it) {\n        return _this.fire(it, value);\n      });\n\n      this.fire(\"\", value);\n    }\n\n    return this;\n  }\n});\nfunction createFn() {\n  try {\n    return _construct(Function, Array.prototype.slice.call(arguments));\n  } catch (e) {\n    return noop;\n  }\n}\nfunction iterateObj(obj, callback) {\n  var prefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n  if (!isObject(obj) || isFunction(obj)) return;\n\n  for (var key in obj) {\n    var v = obj[key];\n    if (isFunction(v)) continue;\n    callback(obj, key, prefix);\n    iterateObj(v, callback, \"\".concat(prefix, \".\").concat(key));\n  }\n}\nfunction forEachRegex(re, str, callback) {\n  var m;\n\n  while (m = re.exec(str)) {\n    if (m.index === re.lastIndex) {\n      re.lastIndex++;\n    }\n\n    callback(m);\n  }\n}\nfunction mapRegex(re, str, callback) {\n  var ret = [];\n  forEachRegex(re, str, function (it) {\n    return ret.push(callback(it));\n  });\n  return ret;\n}\n\n//# sourceURL=webpack://o/./src/utils.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});